<!DOCTYPE html>
<html>
  <head>
    <title>EPSG:4326</title>
    <link rel="stylesheet" href="http://openlayers.org/en/v3.13.1/css/ol.css" type="text/css">
    <script src="http://openlayers.org/en/v3.13.1/build/ol.js"></script>

    <link rel="stylesheet" href="css/ol3-layerswitcher.css" />
    <link rel="stylesheet" href="css/layerswitcher.css" />

    <script src="js/ol3-layerswitcher.js"></script>

  </head>
  <body>
    <div id="map" class="map"></div>
    <script>
      var layers = [];

      layers['dust'] =
        new ol.layer.Tile({
          source: new ol.source.TileWMS({
            url: 'http://eumetview.eumetsat.int/geoserver/wms',
            params: {
              'LAYERS': 'meteosat:dust'
            }
          }),
          title: 'MSG Dust RGB'
        });

      layers['ir108'] =
        new ol.layer.Tile({
          source: new ol.source.TileWMS({
            url: 'http://eumetview.eumetsat.int/geoserver/wms',
            params: {
              'LAYERS': 'meteosat:ir108'
            }
          }),
          title: 'MSG IR 10.8'
        });

      layers['airmass'] =
        new ol.layer.Tile({
          source: new ol.source.TileWMS({
            url: 'http://eumetview.eumetsat.int/geoserver/wms',
            params: {
              'LAYERS': 'meteosat:airmass'
            }
          }),
          title: 'MSG Airmass RGB'
        });

      layers['countries'] =
        new ol.layer.Tile({
          source: new ol.source.TileWMS({
            url: 'http://demo.opengeo.org/geoserver/wms',
            params: {
              'LAYERS': 'ne:ne_10m_admin_0_countries'
            },
            serverType: 'geoserver'
          }),
          title: 'Countries',
          opacity: 0.5
        });

      var base_layer_group =
        new ol.layer.Group({
                'title': 'Base maps',
                layers: [
                    new ol.layer.Tile({
                        title: 'Water color',
                        type: 'base',
                        visible: false,
                        source: new ol.source.Stamen({
                            layer: 'watercolor'
                        })
                    }),
                    new ol.layer.Tile({
                        title: 'OSM',
                        type: 'base',
                        visible: true,
                        source: new ol.source.OSM()
                    }),
                    new ol.layer.Tile({
                        title: 'Satellite',
                        type: 'base',
                        visible: false,
                        source: new ol.source.MapQuest({layer: 'sat'})
                    })
                ]
            });

      var overlay_layer_group =
        new ol.layer.Group({
                title: 'Overlays',
                layers: [
                  layers['dust'],
                  layers['ir108'],
                  layers['airmass'],
                  layers['countries']
                ]
            });

      var map = new ol.Map({
        controls: ol.control.defaults().extend([
          new ol.control.ScaleLine({
            units: 'degrees'
          })
        ]),
        layers: [
          base_layer_group,
          overlay_layer_group
        ],
        target: 'map',
        view: new ol.View({
          projection: 'EPSG:4326',
          center: [0, 0],
          zoom: 2
        })
      });

    var layerSwitcher = new ol.control.LayerSwitcher({
        tipLabel: 'Legend'
    });
    map.addControl(layerSwitcher);

    </script>
  </body>
</html>